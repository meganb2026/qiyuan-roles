<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç‰©å“è¯¦æƒ…</title>
    <link rel="stylesheet" href="../assets/css/styles.css">
</head>
<body>
    <!-- ç§»åŠ¨ç«¯ä¿¡æ¯æŒ‰é’® -->
    <div id="mobile-info-btn" style="position: fixed; bottom: 20px; right: 20px; width: 50px; height: 50px; border-radius: 50%; background: #667eea; color: white; border: none; font-size: 20px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3); z-index: 1000; cursor: pointer; display: flex; align-items: center; justify-content: center;">ğŸ“¦</div>

    <!-- ç§»åŠ¨ç«¯ä¿¡æ¯é¢æ¿ -->
    <div id="mobile-info-panel" style="display: none; position: fixed; bottom: 80px; right: 20px; width: 250px; max-height: 300px; background: rgba(255, 255, 255, 0.98); border-radius: 10px; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3); z-index: 1000; padding: 15px; overflow-y: auto;">
        <!-- å†…å®¹ç”±JavaScriptåŠ¨æ€å¡«å…… -->
    </div>

    <!-- ç”µè„‘ç«¯ä¾§è¾¹æ  -->
    <div id="desktop-sidebar" style="display: none; position: fixed; top: 20px; right: 20px; width: 280px; max-height: 80vh; background: rgba(255, 255, 255, 0.95); border-radius: 10px; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1); z-index: 1000; padding: 20px; overflow-y: auto; border: 1px solid #e0e0e0;">
        <h4 style="margin: 0 0 15px 0; color: #667eea; border-bottom: 2px solid #667eea; padding-bottom: 8px;">è§’è‰²ä¿¡æ¯</h4>
        <div id="desktop-sidebar-content">
            <!-- å†…å®¹ç”±JavaScriptåŠ¨æ€å¡«å…… -->
        </div>
    </div>

    <!-- é®ç½©å±‚ -->
    <div id="mobile-overlay" style="display: none; position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(0, 0, 0, 0.5); z-index: 999;"></div>

    <!-- ç‰©å“è¯¦æƒ…å†…å®¹åŒºåŸŸ -->
    <div id="item-content">
        <div class="page-container">
            <h2>ç‰©å“è¯¦æƒ…</h2>

            <div class="item-detail-container">
                <div class="item-header">
                    <div class="item-icon">ğŸ“¦</div>
                    <div class="item-info">
                        <h3 id="item-name">ç‰©å“åç§°</h3>
                        <p id="item-description">ç‰©å“æè¿°</p>
                    </div>
                </div>

                <div class="item-story">
                    <h4>ğŸ“– ç‰©å“èƒŒåçš„æ•…äº‹</h4>
                    <div id="item-story-content">
                        ç‰©å“æ•…äº‹å†…å®¹
                    </div>
                </div>

                <div class="item-actions">
                    <button class="action-btn primary large" onclick="continueInvestigation()">
                        ç»§ç»­è°ƒæŸ¥
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- åŠ è½½è„šæœ¬ -->
    <script src="../assets/js/characters.js"></script>
    <script src="../assets/js/items.js"></script>
    <script>
        // ä»URLå‚æ•°è·å–ä¿¡æ¯
        const urlParams = new URLSearchParams(window.location.search);
        const currentCharacter = urlParams.get('character') || 'claudius';
        const day = urlParams.get('day') || '1';
        const from = urlParams.get('from') || 'exchange';

        // ä»URLè·¯å¾„è·å–ç‰©å“åç§°
        const pathParts = window.location.pathname.split('/');
        const filename = pathParts[pathParts.length - 1];
        const itemName = decodeURIComponent(filename.replace('item-', '').replace('.html', ''));

        // æ¸¸æˆçŠ¶æ€
        let gameState = {
            selectedCharacter: currentCharacter,
            currentDay: parseInt(day),
            gameStarted: true,
            playerInventory: [],
            allCharactersItems: {},
            npcs: []
        };

